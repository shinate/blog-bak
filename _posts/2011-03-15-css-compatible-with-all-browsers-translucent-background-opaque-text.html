---
layout: post
status: publish
published: true
title: "兼容各浏览器的半透明背景且不透明文字的CSS写法"
author:
  display_name: "莳子"
  login: admin
  email: shine.wangrs@gmail.com
  url: http://codante.org
author_login: admin
author_email: shine.wangrs@gmail.com
author_url: http://codante.org
wordpress_id: 550
wordpress_url: http://codante.org/?p=550
date: '2011-03-15 20:04:09 +0800'
date_gmt: '2011-03-15 12:04:09 +0800'
---
<p>当CSS有了rgba属性，可以很方便的实现背景透明，但问题主要出在IE上...</p>
<p>再怎么骂也没用了，它也不会按标准走的，IE家族只能使用其特有的filter属性。</p>
<h2>FireFox</h2>
<p>rgba是CSS3中的属性，支持W3标准的浏览器都可以现实的，比如webkit核心的...</p>
<pre>[css]
background:rgba(255, 0, 0, 0.5);
[/css]</pre>
<p>background:rgba(<span style="color: #ff0000;">[</span><span style="color: #ff0000;">red</span><span style="color: #ff0000;">:0~255]</span>, <span style="color: #339966;">[</span><span style="color: #339966;">green:</span><span style="color: #339966;">0~255]</span>, <span style="color: #3366ff;">[</span><span style="color: #3366ff;">blue:</span><span style="color: #3366ff;">0~255]</span>, <span style="color: #ff00ff;">[</span><span style="color: #ff00ff;">alpha:</span><span style="color: #ff00ff;">0~1]</span>);</p>
<p><a href="http://unite.codante.org/development/tester/transparent_background/rgba.html" target="_blank">演示地址</a></p>
<h2>IE</h2>
<p>对于IE有多种方法可以实现</p>
<p>我个人比较喜欢用IE的专属标签来修复“<strong>&lt;!--[if IE]&gt;&lt;[!endif]--&gt;</strong>”，原则只有一个：</p>
<p><span style="color: #ff6600;"><strong>“IE你非要玩儿恶心的那你自己恶心去，别恶心别人！”</strong></span></p>
<h3>alpha滤镜</h3>
<p>这是以前经常使用的方法，利用透明滤镜来实现。</p>
<p>问题在于，如果这个容器直接包含文本就没法实现文本不透明，必须加一层容器。</p>
<pre>[css]
&lt;!--[if IE]&gt;
&lt;style type="text/css"&gt;
.t{
    background:#f00;
    filter:alpha(opacity=50);
    zoom:1
}
.t *{
    position:relative
}
&lt;/style&gt;
&lt;![endif]--&gt;
[/css]</pre>
<p>filter:alpha(opacity=<span style="color: #ff00ff;">[alpha:0~100]</span>);</p>
<p><a href="http://unite.codante.org/development/tester/transparent_background/filter_alpha.html" target="_blank">演示地址</a></p>
<h3>渐变效果滤镜</h3>
<pre>[css]
&lt;!--[if IE]&gt;
&lt;style type="text/css"&gt;
.t{
    background:transparent;
    filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#80FF0000,endColorstr=#80FF0000);
    zoom:1;
}
&lt;/style&gt;
&lt;![endif]--&gt;
[/css]</pre>
<p>filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#[<span style="color: #ff00ff;">[alpha:00~FF]</span><span style="color: #ff0000;">[red:00~FF]</span><span style="color: #339966;">[green:00~FF]</span><span style="color: #3366ff;">[blue:00~FF]</span>], endColorstr=#[<span style="color: #ff00ff;">[alpha:00~FF]</span><span style="color: #ff0000;">[red:00~FF]</span><span style="color: #339966;">[green:00~FF]</span><span style="color: #3366ff;">[blue:00~FF]</span>];</p>
<p>00表示完全透明，FF就是全不透明，转换成十进制的范围就是0~255，如果想实现50%的透明需要进行一下换算，50/100 * 255 = 127.5，按128来算，转换成16进制为80。</p>
<p><a href="http://unite.codante.org/development/tester/transparent_background/filter__gradient.html" target="_blank">演示地址</a></p>
<p>&nbsp;</p>
<p><span style="color: #999999;">我没那么NB，不敢写“拒绝IE”什么的，用的人多就得做，老老实实的做出点好用的东西就行了。</span></p>
