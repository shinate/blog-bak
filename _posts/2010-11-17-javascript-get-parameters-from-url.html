---
layout: post
status: publish
published: true
title: Javascript从url中获取参数
author:
  display_name: "莳子"
  login: admin
  email: shine.wangrs@gmail.com
  url: http://codante.org
author_login: admin
author_email: shine.wangrs@gmail.com
author_url: http://codante.org
excerpt: "有时我们需要在客户端获取链接参数，一个常见的方法是将链接当做字符串，按照链接的格式分解，然后获取对应的参数值。"
wordpress_id: 378
wordpress_url: http://codante.org/?p=378
date: '2010-11-17 15:09:36 +0800'
date_gmt: '2010-11-17 07:09:36 +0800'
---
<h2>实现方法</h2>
<p>[javascript]</p>
<p>function getQueryString(name){<br />
if(location.href.indexOf("?")==-1 || location.href.indexOf(name+'=')==-1){<br />
return '';<br />
}<br />
var queryString = location.href.substring(location.href.indexOf("?")+1);<br />
var parameters = queryString.split("&amp;");<br />
var pos, paraName, paraValue;</p>
<p>for(var i=0; i&lt;parameters.length; i++){<br />
pos = parameters[i].indexOf('=');<br />
if(pos == -1) continue;<br />
paraName = parameters[i].substring(0, pos);<br />
paraValue = parameters[i].substring(pos + 1);<br />
if(paraName == name){<br />
return unescape(paraValue.replace(/\+/g, " "));<br />
}<br />
}<br />
return '';<br />
};</p>
<p>//http://localhost/test.html?aa=bb&amp;test=cc+dd&amp;ee=ff<br />
alert(getQueryString('test'));</p>
<p>[/javascript]</p>
<h2>正则的方法</h2>
<p>[javascript]</p>
<p>function getQueryStringRegExp(name){<br />
var reg = new RegExp("(^|\\?|&amp;)"+ name +"=([^&amp;]*)(\\s|&amp;|$)", "i");<br />
return (reg.test(location.href)) ? unescape(RegExp.$2.replace(/\+/g, " ")) : "";<br />
};</p>
<p>//http://localhost/test.html?aa=bb&amp;test=cc+dd&amp;ee=ff<br />
alert(getQueryStringRegExp('test'));</p>
<p>[/javascript]</p>
