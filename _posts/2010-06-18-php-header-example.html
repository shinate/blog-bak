---
layout: post
status: publish
published: true
title: PHP中header的使用范例
author:
  display_name: "莳子"
  login: admin
  email: shine.wangrs@gmail.com
  url: http://codante.org
author_login: admin
author_email: shine.wangrs@gmail.com
author_url: http://codante.org
excerpt: "本文对于php中header的使用做出了比较详细的解释。"
wordpress_id: 39
wordpress_url: http://codante.org/?p=39
date: '2010-06-18 11:25:36 +0800'
date_gmt: '2010-06-18 03:25:36 +0800'
---
<p>// See related links for more status codes<br />
[php]header('HTTP/1.1 200 OK');[/php]</p>
<h2>页面未找到</h2>
<p>Page was not found</p>
<p>//Use this header instruction to fix 404 headers<br />
//produced by url rewriting...<br />
[php]header('HTTP/1.1 404 Not Found');[/php]</p>
<h2>拒绝访问</h2>
<p>Access forbidden<br />
[php]header('HTTP/1.1 403 Forbidden');[/php]</p>
<h2>永久转向</h2>
<p>Moved Permanently</p>
<p>The page moved permanently should be used for<br />
all redrictions, because search engines know<br />
what's going on and can easily update their urls.<br />
[php]header('HTTP/1.1 301 Moved Permanently');[/php]</p>
<h2>服务器内部错误</h2>
<p>Server error<br />
[php]header('HTTP/1.1 500 Internal Server Error');[/php]</p>
<h2>页面跳转</h2>
<p>Redirect to a new location<br />
[php]header('Location: http://www.example.org/');[/php]</p>
<h2>一定时间后重定向</h2>
<p>Redriect with a delay<br />
[php]header('Refresh: 10; url=http://www.example.org/');<br />
print 'You will be redirected in 10 seconds';[/php]<br />
当然,还可以这样:</p>
<h3>通过html实现</h3>
<p>[php]&lt;meta http-equiv="refresh" content="10;http://www.example.org/ /&gt;[/php]</p>
<h2>重置技术支持信息</h2>
<p>override X-Powered-By value<br />
[php]header('X-Powered-By: PHP/4.4.0');<br />
header('X-Powered-By: Brain/0.6b');[/php]</p>
<h2>设定语言</h2>
<p>content language (en = English)<br />
[php]header('Content-language: en');[/php]</p>
<h2>最后编辑时间</h2>
<p>last modified</p>
<p>对缓存页面有很好的帮助<br />
[php]$time = time() - 60; // or filemtime($fn), etc<br />
header('Last-Modified: '.gmdate('D, d M Y H:i:s', $time).' GMT');[/php]</p>
<h2>已缓存的</h2>
<p>Not Modified</p>
<p>// header for telling the browser that the content<br />
// did not get changed<br />
[php]header('HTTP/1.1 304 Not Modified');[/php]</p>
<h2>设定内容长度</h2>
<p>set content length (good for caching)<br />
[php]header('Content-Length: 1234');[/php]</p>
<h2>用于下载的文件头</h2>
<p>Headers for an download:<br />
[php]header('Content-Type: application/octet-stream');<br />
header('Content-Disposition: attachment; filename="example.zip"');<br />
header('Content-Transfer-Encoding: binary');[/php]<br />
读取文件内容:<br />
[php]readfile('example.zip');[/php]</p>
<h2>不使用缓存</h2>
<p>Disable caching of the current document<br />
[php]header('Cache-Control: no-cache, no-store, max-age=0, must-revalidate');<br />
header('Expires: Mon, 26 Jul 1997 05:00:00 GMT'); // Date in the past<br />
header('Pragma: no-cache');[/php]</p>
<h2>设置页面类型</h2>
<p>set content type<br />
[php]header('Content-Type: text/html; charset=iso-8859-1');<br />
header('Content-Type: text/html; charset=utf-8');<br />
header('Content-Type: text/plain'); // plain text file<br />
header('Content-Type: image/jpeg'); // JPG picture<br />
header('Content-Type: application/zip'); // ZIP file<br />
header('Content-Type: application/pdf'); // PDF file<br />
header('Content-Type: audio/mpeg'); // Audio MPEG (MP3,...) file<br />
header('Content-Type: application/x-shockwave-flash'); // Flash animation[/php]</p>
<h2>弹出一个消息框</h2>
<p>show sign in box<br />
[php]header('HTTP/1.1 401 Unauthorized');<br />
header('WWW-Authenticate: Basic realm="Top Secret"');<br />
print 'Text that will be displayed if the user hits cancel or ';<br />
print 'enters wrong login data';[/php]</p>
