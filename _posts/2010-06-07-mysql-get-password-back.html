---
layout: post
status: publish
published: true
title: MySQL数据库丢失root密码恢复
author:
  display_name: "莳子"
  login: admin
  email: shine.wangrs@gmail.com
  url: http://codante.org
author_login: admin
author_email: shine.wangrs@gmail.com
author_url: http://codante.org
excerpt: "如果不小心把MySQL root的密码弄丢，或是在修改初始密码时忘记了新的密码，无需重装MySQL，下面就是具体的解决方案。"
wordpress_id: 31
wordpress_url: http://codante.org/?p=31
date: '2010-06-07 09:10:55 +0800'
date_gmt: '2010-06-07 01:10:55 +0800'
---
<h2>Mysql 数据库丢失root密码恢复</h2>
<p>[code]<br />
###########################<br />
Mysql 数据库丢失root密码恢复<br />
###########################</p>
<p>############################################################<br />
# Purpose: recover mysql root password<br />
#<br />
# USER          YYYY-MM-DD – ACTION<br />
# Oldboy        2009-10-24 – Created<br />
# QQ:49000448   老男孩       mail:49000448@qq.com<br />
############################################################<br />
[/code]</p>
<h3>单实例</h3>
<p>[bash]<br />
killall mysqld<br />
mysqld_safe --skip-grant-tables &amp;<br />
mysql -u root -p<br />
[/bash]</p>
<h3>多实例</h3>
<p>[bash]<br />
killall mysqld<br />
mysqld_safe –defaults-file=/data/3306/my.cnf  --skip-grant-table &amp;<br />
mysql -u root -p -S /data/3306/mysql.sock<br />
[/bash]</p>
<h2>跳过验证启动mysql</h2>
<h3>登陆后修改密码</h3>
<p>[code]<br />
mysql&gt; UPDATE mysql.user SET password=PASSWORD("hyran123") WHERE user='root';<br />
Query OK, 2 rows affected (0.00 sec)<br />
Rows matched: 2  Changed: 2  Warnings: 0<br />
mysql&gt;FLUSH PRIVILEGES;<br />
Query OK, 0 rows affected (0.00 sec)<br />
mysql&gt; quit<br />
Bye<br />
[/code]</p>
<h3>重起mysql登陆测试(多实例修改密码后测试)</h3>
<p>[bash]<br />
/data/3306/mysql restart<br />
[root@ryan01 3306]# mysql -u root -p’hyran123′ -S /data/3306/mysql.sock<br />
Enter password:<br />
Welcome to the MySQL monitor.  Commands end with ; or \g.<br />
Your MySQL connection id is 1<br />
Type ‘help;’ or ‘\h’ for help. Type ‘\c’ to clear the buffer.<br />
mysql&gt;<br />
[/bash]</p>
