---
layout: post
status: publish
published: true
title: Linux中关于CPU的一些说明
author:
  display_name: "莳子"
  login: admin
  email: shine.wangrs@gmail.com
  url: http://codante.org
author_login: admin
author_email: shine.wangrs@gmail.com
author_url: http://codante.org
excerpt: "如何查看有几个处理器，是否多核？是否超线程？"
wordpress_id: 328
wordpress_url: http://codante.org/?p=328
date: '2010-09-08 11:16:11 +0800'
date_gmt: '2010-09-08 03:16:11 +0800'
---
<h3>逻辑CPU个数</h3>
<p>[bash]cat /proc/cpuinfo | grep "processor" | wc -l[/bash]</p>
<h3>物理CPU个数</h3>
<p>[bash]cat /proc/cpuinfo | grep "physical id" | sort | uniq | wc -l[/bash]</p>
<p>“siblings”指的是一个物理CPU有几个逻辑CPU。</p>
<p>”cpu cores“指的是一个物理CPU有几个核。</p>
<p>不应该按照flags里是否有ht标志来判断系统是否有超线程能力，而应该：</p>
<p><span style="color: #ff0000;">* 如果“siblings”和“cpu cores”<strong>一致</strong>，则说明<strong>不支持</strong>超线程，或者<strong>超线程未打开</strong>。</span><br />
<span style="color: #0000ff;">* 如果“siblings”是“cpu cores”<strong>的两倍</strong>，则说明<strong>支持</strong>超线程，并且<strong>超线程已打开</strong>。</span></p>
<h3>举例说明</h3>
<p>两个双核超线程CPU：</p>
<p>[code]<br />
processor   0 1 2 3 4 5 6 7<br />
physical id 0 0 0 0 1 1 1 1<br />
siblings    4 4 4 4 4 4 4 4<br />
core id     0 0 1 1 0 0 1 1<br />
cpu cores   2 2 2 2 2 2 2 2<br />
[/code]</p>
<p>感谢老男赐予的知识。</p>
