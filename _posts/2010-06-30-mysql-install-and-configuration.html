---
layout: post
status: publish
published: true
title: Mysql安装及配置
author:
  display_name: "莳子"
  login: admin
  email: shine.wangrs@gmail.com
  url: http://codante.org
author_login: admin
author_email: shine.wangrs@gmail.com
author_url: http://codante.org
excerpt: MySQL是一个小型关系型数据库管理系统，开发者为瑞典MySQL AB公司。目前MySQL被广泛地应用在Internet上的中小型网站中。由于其体积小、速度快、总体拥有成本低，尤其是开放源码这一特点，许多中小型网站为了降低网站总体拥有成本而选择了MySQL作为网站数据库。目前Internet上比较流行的网站构架方式是LAMP（Linux+Apache+MySQL+PHP），本文将以实际操作为参考进行系统化的讲解MySQL的安装全过程。
wordpress_id: 61
wordpress_url: http://codante.org/?p=61
date: '2010-06-30 03:08:28 +0800'
date_gmt: '2010-06-29 19:08:28 +0800'
---
<p>感谢老男孩赐予的知识。 老男孩（QQ:49000448， mail:49000448@qq.com）</p>
<h2>下载源码包</h2>
<p>[bash]<br />
wget http://dev.mysql.com/get/Downloads/MySQL-5.1/mysql-5.1.41-linux-i686-glibc23.tar.gz/from/http://mysql.cdpa.nsysu.edu.tw/[/bash]</p>
<h2>创建mysql用户</h2>
<p>[bash]</p>
<p>groupadd mysql;<br />
useradd -s /sign/nologin -g mysql -M mysql    #-s /sign/nologin禁止其他所有的php，cookie。</p>
<p>[/bash]</p>
<h2>编译</h2>
<p>[bash]<br />
./configure --prefix=/usr/local/mysql \<br />
--with-unix-socket-path=/usr/local/mysql/tmp/mysql.sock \<br />
--localstatedir=/usr/local/mysql/data \<br />
--enable-assembler \<br />
--with-mysqld-ldflags=-all-static \<br />
--with-client-ldflags=-all-static \<br />
--enable-thread-safe-client \<br />
--with-mysqld-user=mysql \<br />
--with-big-tables \<br />
--without-debug \<br />
--with-pthread;</p>
<p>[/bash]</p>
<h2>安装</h2>
<p>[bash]<br />
make<br />
make install<br />
[/bash]</p>
<h2>初始化数据库</h2>
<p>拷贝MySQL的配置文件到/etc目录下<br />
[bash]cp support-files/my-huge.cnf /etc/my.cnf[/bash]</p>
<p>创建数据文件夹<br />
[bash]mkdir -p /usr/local/mysql/data[/bash]</p>
<p>生成mysql.sock<br />
[bash]/usr/local/mysql/bin/mysql_install_db --user=mysql[/bash]</p>
<p>将软件的安装目录拥有者改为root用户<br />
[bash]chown -R root /usr/local/mysql/[/bash]</p>
<p>将存放数据库的目录拥有者改为mysql用户<br />
[bash]chown -R mysql /usr/local/mysql/data[/bash]</p>
<p>将软件的安装目录属组改为mysql组<br />
[bash]chgrp -R mysql /usr/local/mysql/[/bash]</p>
<h2>启动</h2>
<p>[bash]/usr/local/mysql/bin/mysqld_safe --user=mysql &amp;[/bash]</p>
<h2>添加开机启动</h2>
<p>[bash]vi /etc/rc.local[/bash]</p>
<p>添加一行</p>
<p>[code]/usr/local/mysql/bin/mysqld_safe --user=mysql &amp;[/code]</p>
