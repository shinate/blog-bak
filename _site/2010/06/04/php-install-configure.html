<h2>下载软件包</h2>
<div class="highlight"><pre><code class="language-bash" data-lang="bash">wget http://cn.php.net/get/php-5.2.9.tar.gz/from/this/mirror
</code></pre></div>
<h2>编译安装</h2>
<div class="highlight"><pre><code class="language-bash" data-lang="bash">./configure <span class="se">\</span>
--prefix<span class="o">=</span>/usr/local/php5 <span class="se">\</span>
--with-apxs2<span class="o">=</span>/usr/local/apache2/bin/apxs <span class="se">\</span>
--with-mysql<span class="o">=</span>/usr/local/mysql <span class="se">\</span>
--with-ttf <span class="se">\</span>
--with-xmlrpc <span class="se">\</span>
--with-openssl <span class="se">\</span>
--with-zlib <span class="se">\</span>
--with-freetype-dir <span class="se">\</span>
--with-gd <span class="se">\</span>
--with-jpeg-dir <span class="se">\</span>
--with-png-dir <span class="se">\</span>
--with-iconv<span class="o">=</span>/usr/local/libiconv <span class="se">\</span>
--enable-short-tags <span class="se">\</span>
--enable-sockets <span class="se">\</span>
--enable-zend-multibyte <span class="se">\</span>
--enable-soap <span class="se">\</span>
--enable-mbstring <span class="se">\</span>
--enable-static <span class="se">\</span>
--enable-gd-native-ttf <span class="se">\</span>
--with-curl
make
make install
</code></pre></div>
<h2>配置</h2>

<p>拷贝配置文件到安装目录</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash">cp php.ini-dist /usr/local/php5/lib/php.ini
</code></pre></div>
<h2>启动中遇到的问题</h2>

<p>重启apache</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">遇到错误: httpd: Syntax error on line 54 of /usr/local/apache2/conf/httpd.conf: Cannot load /usr/local/apache2/modules/libphp5.so into server: /usr/local/apache2/modules/libphp5.so: cannot restore segment prot after reloc: Permission denied
</code></pre></div>
<h3>解决办法1</h3>

<p>设置通过selinux的检验</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash">chcon -t texrel_shlib_t /usr/local/apache2/modules/libphp5.so
</code></pre></div>
<h3>解决办法2</h3>

<p>关闭selinux</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash">vi /etc/selinux/config
</code></pre></div>
<p>设置</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">SELINUX=disabled
</code></pre></div>
<p><strong>重启apache，安装完毕</strong></p>
