<h2>Mysql 数据库丢失root密码恢复</h2>
<div class="highlight"><pre><code class="language-text" data-lang="text">\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#
Mysql 数据库丢失root密码恢复
\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#
\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#
\# Purpose: recover mysql root password
\#
\# USER          YYYY-MM-DD -- ACTION
\# Oldboy        2009-10-24 -- Created
\# QQ:49000448   老男孩       mail:49000448@qq.com
\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#\#
</code></pre></div>
<h3>单实例</h3>
<div class="highlight"><pre><code class="language-bash" data-lang="bash">killall mysqld
mysqld_safe --skip-grant-tables <span class="p">&amp;</span>
mysql -u root -p
</code></pre></div>
<h3>多实例</h3>
<div class="highlight"><pre><code class="language-bash" data-lang="bash">killall mysqld
mysqld_safe --defaults-file<span class="o">=</span>/data/3306/my.cnf  --skip-grant-table <span class="p">&amp;</span>
mysql -u root -p -S /data/3306/mysql.sock
</code></pre></div>
<h2>跳过验证启动mysql</h2>

<h3>登陆后修改密码</h3>
<div class="highlight"><pre><code class="language-text" data-lang="text">mysql&amp;gt; UPDATE mysql.user SET password=PASSWORD(&quot;hyran123&quot;) WHERE user=&#39;root&#39;;
Query OK, 2 rows affected (0.00 sec)
Rows matched: 2  Changed: 2  Warnings: 0
mysql&amp;gt;FLUSH PRIVILEGES;
Query OK, 0 rows affected (0.00 sec)
mysql&amp;gt; quit
Bye
</code></pre></div>
<h3>重起mysql登陆测试(多实例修改密码后测试)</h3>
<div class="highlight"><pre><code class="language-bash" data-lang="bash">/data/3306/mysql restart
<span class="o">[</span>root@ryan01 3306<span class="o">]</span><span class="se">\#</span> mysql -u root -p<span class="s1">&#39;hyran123′ -S /data/3306/mysql.sock</span>
<span class="s1">Enter password:</span>
<span class="s1">Welcome to the MySQL monitor.  Commands end with ; or \g.</span>
<span class="s1">Your MySQL connection id is 1</span>
<span class="s1">Type &#39;</span><span class="nb">help</span><span class="p">;</span><span class="s1">&#39; or &#39;</span><span class="se">\h</span><span class="s1">&#39; for help. Type &#39;</span><span class="se">\c</span><span class="err">&#39;</span> to clear the buffer.
mysql<span class="p">&amp;</span>gt<span class="p">;</span>
</code></pre></div>