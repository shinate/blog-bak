function randomColor(){function o(o,t,r){for(var e=0;e<o.length;e++){var a=r[e%r.length];$(o[e]).css(t,a)}}var t={target_1:{tag:".post-content h2",property:"border-color",colors:["#6599ff","#92cd00","#ff0000"]}};for(var r in t)if(t.hasOwnProperty(r)){var e=t[r];o($(e.tag),e.property,e.colors)}}function isBP(){return window.location.hash.indexOf("_b_p_")>0}function noHashUrl(){var o=window.location.href,t=o.indexOf("#");return 0>t?o:o.substr(0,i)}$(document).ready(function(){if(!isBP()){if(randomColor(),window.matchMedia("(max-width: 768px)").matches){$(".post-archive").css("top",$(".post-header").height()+29);var o=$(".post-archive-icon, .post-archive");o.click(function(){o.hasClass("post-archive-triggered")?o.removeClass("post-archive-triggered"):o.addClass("post-archive-triggered")})}var t=$(".post-archive");t.length&&$.get($CONFIG.url+"/post-archive.html",function(o){t.html(o);var r=t.find('[href="'+noHashUrl()+'"]');archiveFocus(r)}),window.history.replaceState({URL:noHashUrl()},null,window.location.href)}$(".post-archive").on("click",".post-archive-iterm",function(o){var t=$(this),r=t.attr("href");return window.history.pushState({URL:r},null,r),BPLoad(r),archiveFocus(t),o.preventDefault(),!1}),$(window).on("popstate",function(){var o=window.history.state;BPLoad(o.URL),archiveFocus($('.post-archive [href="'+o.URL+'"]'))})});var BPLoad=function(o,t){var r=$('<iframe class="BPLoader"></iframe>'),e="BP_"+new Date;r.on("load",function(){var o=$(this),t=$(window.frames[e].document);$(".post-header").html(t.find(".post-header").html()),$(".post-content").html(t.find(".post-content").html()),$("title").text(t.find("title").text()),randomColor(),o.off("load",arguments.callee),o.remove()}),r.attr("src",o+"#_b_p_"),r.attr("name",e),r.appendTo($(document.body))},archiveFocus=function(o){var t=$(".post-archive");t.find(".checked").removeClass("checked"),o.addClass("checked"),t.scrollTop(t.scrollTop()+o.position().top-(t.height()-o.height())/2)};