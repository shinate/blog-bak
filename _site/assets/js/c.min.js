function randomColor(){function o(o,t,e){for(var r=0;r<o.length;r++){var a=e[r%e.length];$(o[r]).css(t,a)}}var t={target_1:{tag:".post-content h2",property:"border-color",colors:["#6599ff","#92cd00","#ff0000"]}};for(var e in t)if(t.hasOwnProperty(e)){var r=t[e];o($(r.tag),r.property,r.colors)}}function isBP(){return window.location.hash.indexOf("_b_p_")>0}function noHashUrl(){var o=window.location.href,t=o.indexOf("#");return 0>t?o:o.substr(0,i)}$(document).ready(function(){if(!isBP()){if(randomColor(),window.matchMedia("(max-width: 800px)").matches){$(".post-archive").css("top",$(".post-header").height());var o=$(".post-archive-icon, .post-archive");o.on("click",function(){o.hasClass("post-archive-triggered")?($(document.body).css("overflow",""),o.removeClass("post-archive-triggered")):($(document.body).css("overflow","hidden"),o.addClass("post-archive-triggered"))})}var t=$(".post-archive");t.length&&$.get($CONFIG.url+"/post-archive.html",function(o){t.html(o);var e=t.find('[href="'+noHashUrl()+'"]');archiveFocus(e)}),window.history.replaceState({URL:noHashUrl()},null,window.location.href)}"pushState"in window.history&&($(".post-archive,.post-nav").on("click","a",HANDLE.BPLink),$(window).on("popstate",HANDLE.BPPop))});var HANDLE={BPLink:function(o){var t=$(this),e=t.attr("href");return window.history.pushState({URL:e},null,e),BPLoad(e),archiveFocus($('.post-archive [href="'+e+'"]')),o.preventDefault(),!1},BPPop:function(){var o=window.history.state;BPLoad(o.URL),archiveFocus($('.post-archive [href="'+o.URL+'"]'))}},BPLoad=function(o,t){var e=$('<iframe class="BPLoader"></iframe>'),r="BP_"+ +new Date;e.on("load",function(){var o=$(this);if(window._b_p_active_name===r){var t=$(window.frames[r].document);$(".post-header").html(t.find(".post-header").html()),$(".post-content").html(t.find(".post-content").html()),$(".post-nav").html(t.find(".post-nav").html()),$("title").text(t.find("title").text()),randomColor()}o.off("load",arguments.callee),o.remove()}),e.attr("src",o+"#_b_p_"),e.attr("name",r),e.appendTo($(document.body)),window._b_p_active_name=r},archiveFocus=function(o){var t=$(".post-archive");t.find(".checked").removeClass("checked"),o.addClass("checked"),t.scrollTop(t.scrollTop()+o.position().top-(t.height()-o.height())/2)};