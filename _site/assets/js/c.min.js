function randomColor(){function t(t,o,r){for(var e=0;e<t.length;e++){var a=r[e%r.length];$(t[e]).css(o,a)}}var o={target_1:{tag:".post-content h2",property:"border-color",colors:["#6599ff","#92cd00","#ff0000"]}};for(var r in o)if(o.hasOwnProperty(r)){var e=o[r];t($(e.tag),e.property,e.colors)}}function isBP(){return window.location.hash.indexOf("_b_p_")>0}function noHashUrl(){var t=window.location.href,o=t.indexOf("#");return 0>o?t:t.substr(0,i)}$(document).ready(function(){if(!isBP()){if(randomColor(),window.matchMedia("(max-width: 768px)").matches){$(".post-archive").css("top",$(".post-header").height()+29);var t=$(".post-archive-icon, .post-archive");t.click(function(){t.hasClass("post-archive-triggered")?t.removeClass("post-archive-triggered"):t.addClass("post-archive-triggered")})}var o=$(".post-archive");o.length&&$.get($CONFIG.url+"/post-archive.html",function(t){o.html(t);var r=o.find('[href="'+noHashUrl()+'"]');archiveFocus(r)}),window.history.replaceState({URL:noHashUrl()},null,window.location.href)}$(".post-archive").on("click",".post-archive-iterm",function(t){var o=$(this),r=o.attr("href");return window.history.pushState({URL:r},null,r),BPLoad(r),archiveFocus(o),t.preventDefault(),!1}),$(window).on("popstate",function(){var t=window.history.state;BPLoad(t.URL),archiveFocus($('.post-archive [href="'+t.URL+'"]'))})});var BPLoad=function(t,o){var r=$("<iframe></iframe>"),e="BP_"+new Date;r.on("load",function(){var t=$(this),o=$(window.frames[e].document);$(".post-header").html(o.find(".post-header").html()),$(".post-content").html(o.find(".post-content").html()),$("title").text(o.find("title").text()),randomColor(),t.off("load",arguments.callee),t.remove()}),r.attr("src",t+"#_b_p_"),r.attr("name",e),r.appendTo($(document.body))},archiveFocus=function(t){var o=$(".post-archive");o.find(".checked").removeClass("checked"),t.addClass("checked"),o.scrollTop(o.scrollTop()+t.position().top-(o.height()-t.height())/2)};